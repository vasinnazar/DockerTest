/**
 * @license Copyright (c) 2014-2017, Dr. Oleg Kiriljuk, oleg.kiriljuk@ok-soft-gmbh.com
 * Dual licensed under the MIT and GPL licenses
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl-2.0.html
 * Date: 2015-04-06
 * see the answers http://stackoverflow.com/a/8491939/315935
 *             and http://stackoverflow.com/a/29048089/315935
 *             and http://stackoverflow.com/q/29457007/315935
 */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.contextmenu-ui","free-jqgrid/grid.base"],function(c){return b(c,a,a.document)}):"object"==typeof module&&module.exports?module.exports=function(a,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(a||window)),require("./jquery.contextmenu-ui"),require("free-jqgrid/grid.base"),b(c,a,a.document),c}:b(jQuery,a,a.document)}("undefined"!=typeof window?window:this,function(a,b,c){"use strict";a.jgrid.extend({createContexMenuFromNavigatorButtons:function(d,e){var f=this,g="menu_"+f[0].id,h=a("<ul>"),i=a("<div>").attr("id",g),j=function(){var a="";return b.getSelection?a=b.getSelection():c.getSelection?a=c.getSelection():c.selection&&(a=c.selection.createRange().text),"string"==typeof a?a:a.toString()};h.appendTo(i),i.appendTo("body"),f.contextMenu(g,{bindings:{},onContextMenu:function(b){var c,d,e=f[0].p,g=a(b.target),h=g.closest("tr.jqgrow").attr("id"),i=g.is(":text:enabled")||g.is("input[type=textarea]:enabled")||g.is("textarea:enabled");return!(!h||i||""!==j())&&(c=a.inArray(h,e.selarrrow),e.selrow!==h&&c<0?f.jqGrid("setSelection",h):e.multiselect&&(d=e.selarrrow[e.selarrrow.length-1],c!==e.selarrrow.length-1&&(e.selarrrow[e.selarrrow.length-1]=h,e.selarrrow[c]=d,e.selrow=h)),!0)},onShowMenu:function(b,c){var g=this,h=c.children("ul").first().empty(),i=null!=a.ui&&"string"==typeof a.ui.version?/^([0-9]+)\.([0-9]+)\.([0-9]+)$/.exec(a.ui.version):[],j=null!=i&&4===i.length&&"1"===i[1]&&i[2]<11;return a(d).find(".navtable .ui-pg-button").filter(function(){return!(a(this).prop("disabled")||a(this).hasClass("ui-state-disabled"))}).each(function(){var b,c,d,e,f,i=a(this).children("div.ui-pg-div").first();1===i.length&&(c=i.children(".ui-pg-button-text").html(),d=i.parent(),""===a.trim(c)&&(c=d.attr("title")),e=""!==this.id&&""!==c?"menuitem_"+this.id:a.jgrid.randId(),f=a("<li>").attr("id",e),b=i.children("span").not(".ui-pg-button-text").first(),b.length>0&&(j?f.append(a("<a>").html(c).prepend(b.clone().removeClass("ui-pg-button-icon-over-text").css({float:"left",marginTop:b.hasClass("ui-icon")?"0.25em":"0.125em",marginRight:"0.5em"}))):f.html(c).prepend(b.clone().removeClass("ui-pg-button-icon-over-text").css({float:"left",marginTop:b.first().hasClass("ui-icon")?"0.25em":"0.125em",marginRight:"0.5em"})),i.parent().hasClass("ui-state-active")&&f.find("span").addClass("ui-state-active"),f.find("select,input").length>0&&f.hide(),h.append(f),g.bindings[e]=function(a){return function(){a.click()}}(i)))}),a.jgrid.fullBoolFeedback.call(f,(e||{}).onShowContextMenu,"jqGridShowContextMenu",h,g),c}})}})});
//# sourceMappingURL=jquery.createcontexmenufromnavigatorbuttons.js.map