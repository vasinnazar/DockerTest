!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(c){return b(c,a.document)}):"object"==typeof module&&module.exports?module.exports=function(a,c){return a||(a=window),void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(a)),b(c,a.document),c}:b(jQuery,a.document)}("undefined"!=typeof window?window:this,function(a,b){"use strict";var c,d=0,e=[],f=function(b){try{a(":input:visible",b.w).first().focus()}catch(a){}},g=function(a){f(a)},h=function(b){var d=c[e[e.length-1]],g=!a(b.target).parents(".jqmID"+d.s)[0],h=a(b.target).offset(),i=void 0!==b.pageX?b.pageX:h.left,j=void 0!==b.pageY?b.pageY:h.top,k=function(){var b=!1;return a(".jqmID"+d.s).each(function(){var c=a(this),d=c.offset();if(d.top<=j&&j<=d.top+c.height()&&d.left<=i&&i<=d.left+c.width())return b=!0,!1}),b};return!("mousedown"===b.type||!k())||("mousedown"===b.type&&g&&(k()&&(g=!1),g&&!a(b.target).is(":input")&&f(d)),!g)},i=function(c){a(b)[c]("keypress keydown mousedown",h)},j=function(b,d,e){return b.each(function(){var b=this._jqm;a(d).each(function(){this[e]||(this[e]=[],a(this).click(function(){var a,b,d,e=["jqmShow","jqmHide"];for(a=0;a<e.length;a++){b=e[a];for(d in this[b])this[b].hasOwnProperty(d)&&c[this[b][d]]&&c[this[b][d]].w[b](this)}return!1})),this[e].push(b)})})};a.fn.jqm=function(b){var e={overlay:50,closeoverlay:!1,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:!1,ajaxText:"",target:!1,modal:!1,toTop:!1,onShow:!1,onHide:!1,onLoad:!1};return this.each(function(){if(this._jqm)return c[this._jqm].c=a.extend({},c[this._jqm].c,b),c[this._jqm].c;d++,this._jqm=d,c[d]={c:a.extend(e,a.jqm.params,b),a:!1,w:a(this).addClass("jqmID"+d),s:d},e.trigger&&a(this).jqmAddTrigger(e.trigger)})},a.fn.jqmAddClose=function(a){return j(this,a,"jqmHide")},a.fn.jqmAddTrigger=function(a){return j(this,a,"jqmShow")},a.fn.jqmShow=function(b){return this.each(function(){a.jqm.open(this._jqm,b)})},a.fn.jqmHide=function(b){return this.each(function(){a.jqm.close(this._jqm,b)})},a.jqm={hash:{},open:function(b,d){var f,h,j,k,l,m=c[b],n=m.c,o=m.w.parent().offset(),p="."+n.closeClass,q=parseInt(m.w.css("z-index"),10);return q=q>0?q:3e3,f=a("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":q-1,opacity:n.overlay/100}),!m.a&&(m.t=d,m.a=!0,m.w.css("z-index",q),a(m.w[0].ownerDocument).data("ui-dialog-overlays")&&m.w.addClass("ui-dialog"),n.modal?(e[0]||setTimeout(function(){i("bind")},1),e.push(b)):n.overlay>0?n.closeoverlay&&m.w.jqmAddClose(f):f=!1,m.o=!!f&&f.addClass(n.overlayClass).prependTo("body"),n.ajax?(h=n.target||m.w,j=n.ajax,h="string"==typeof h?a(h,m.w):a(h),j="@"===j.substr(0,1)?a(d).attr(j.substring(1)):j,h.html(n.ajaxText).load(j,function(){n.onLoad&&n.onLoad.call(this,m),p&&m.w.jqmAddClose(a(p,m.w)),g(m)})):p&&m.w.jqmAddClose(a(p,m.w)),n.toTop&&m.o&&(o=m.w.parent().offset(),k=parseFloat(m.w.css("left")||0),l=parseFloat(m.w.css("top")||0),m.w.before('<span id="jqmP'+m.w[0]._jqm+'"></span>').insertAfter(m.o),m.w.css({top:o.top+l,left:o.left+k})),n.onShow?n.onShow(m):m.w.show(),g(m),!1)},close:function(b){var d=c[b];return!!d.a&&(d.a=!1,e[0]&&(e.pop(),e[0]||i("unbind")),d.c.toTop&&d.o&&a("#jqmP"+d.w[0]._jqm).after(d.w).remove(),d.c.onHide?d.c.onHide(d):(d.w.hide(),d.o&&d.o.remove()),!1)},params:{}},c=a.jqm.hash});
//# sourceMappingURL=jqmodal.js.map